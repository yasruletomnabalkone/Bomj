<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–∏—Ç–µ—Ä—Å–∫–∏–π –ú—É—Å–æ—Ä–Ω—ã–π –ö–≤–µ—Å—Ç</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <h1>–ü–∏—Ç–µ—Ä—Å–∫–∏–π –ú—É—Å–æ—Ä–Ω—ã–π –ö–≤–µ—Å—Ç</h1>
        <div id="output">
            ‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñà‚ñÄ‚ñà‚ñë‚ñà‚ñÄ‚ñÑ‚ñë‚ñÄ‚ñà‚ñÄ‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñë‚ñë‚ñà‚ñÄ‚ñà‚ñë‚ñà‚ñë‚ñà‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñà‚ñÄ‚ñÑ‚ñë‚ñà‚ñÄ‚ñà‚ñë‚ñà‚ñÄ‚ñÑ<br>
            ‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñà‚ñë‚ñà‚ñë‚ñà‚ñÄ‚ñÑ‚ñë‚ñë‚ñà‚ñë‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñë‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñë‚ñà‚ñë‚ñë‚ñà‚ñÄ‚ñÄ‚ñë‚ñà‚ñÄ‚ñÑ‚ñë‚ñà‚ñë‚ñà‚ñë‚ñà‚ñë‚ñà<br>
            ‚ñë‚ñÄ‚ñÄ‚ñÄ‚ñë‚ñÄ‚ñë‚ñÄ‚ñë‚ñÄ‚ñë‚ñÄ‚ñë‚ñë‚ñÄ‚ñë‚ñë‚ñÄ‚ñÄ‚ñÄ‚ñë‚ñë‚ñë‚ñÄ‚ñë‚ñë‚ñë‚ñë‚ñÄ‚ñë‚ñë‚ñÄ‚ñÄ‚ñÄ‚ñë‚ñÄ‚ñë‚ñÄ‚ñë‚ñÄ‚ñÄ‚ñÄ‚ñë‚ñÄ‚ñÄ‚ñë<br>
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º—É—Å–æ—Ä–Ω—ã–µ –≥–ª—É–±–∏–Ω—ã –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞! üóëÔ∏èüèôÔ∏è<br>
            –í–∞—à–∞ —Ü–µ–ª—å ‚Äî –≤—ã–∂–∏—Ç—å –≤ —ç—Ç–æ–º –∞–¥—É.
        </div>
        <div id="status"></div>
        <div id="actions">
            <button onclick="game.searchArea()">–ò—Å–∫–∞—Ç—å</button>
            <button onclick="showLocationPrompt()">–ü–æ–π—Ç–∏ –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ</button>
            <button onclick="game.talkToDanya()">–ü–æ–∑–≤–∞—Ç—å –î–∞–Ω—é</button>
            <button onclick="showUseItemPrompt()">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
        </div>

        <div id="danya-options" style="display: none;"></div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ª–æ–∫–∞—Ü–∏–∏ -->
        <div id="location-prompt" class="modal" style="display: none;">
            <div class="modal-content animate">
                <h3>–ö—É–¥–∞ —Ö–æ—á–µ—à—å –ø–æ–π—Ç–∏?</h3>
                <div id="location-options"></div>
                <button onclick="hideLocationPrompt()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ -->
        <div id="item-prompt" class="modal" style="display: none;">
            <div class="modal-content animate">
                <h3>–í—ã–±–µ—Ä–∏ –ø—Ä–µ–¥–º–µ—Ç:</h3>
                <div id="item-options"></div>
                <button onclick="hideItemPrompt()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <!-- –ú–∏–Ω–∏-–∏–≥—Ä–∞ –æ–±—ã—Å–∫–∞ -->
        <div id="search-mini-game" class="modal" style="display: none;">
            <div class="modal-content animate">
                <h3>–ò—â–µ–º –ø–æ–ª–µ–∑–Ω–æ–µ —Å—Ä–µ–¥–∏ –º—É—Å–æ—Ä–∞...</h3>
                <button onclick="game.finishSearch(true)">–ù–∞—à—ë–ª —á—Ç–æ-—Ç–æ</button>
                <button onclick="game.finishSearch(false)">–ù–∏—á–µ–≥–æ –Ω–µ—Ç</button>
            </div>
        </div>
    </div>

    <script>
        const game = {
            currentLocation: '–¥–≤–æ—Ä',
            inventory: ['–∫–∏—Ä–ø–∏—á', '–±—É—Ç—ã–ª–∫–∞', '–∫–ª—é—á'],
            locations: {
                '–¥–≤–æ—Ä': ['–ø–æ–¥—ä–µ–∑–¥', '–ø–æ–º–æ–π–∫–∞'],
                '–ø–æ–¥—ä–µ–∑–¥': ['–¥–≤–æ—Ä'],
                '–ø–æ–º–æ–π–∫–∞': ['–¥–≤–æ—Ä']
            },

            quests: {},

            action(name) {
                addOutput(`–í—ã –≤—ã–±—Ä–∞–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ: ${name}`);
            },

            talkToDanya() {
                addOutput("–î–∞–Ω—è: –≠–π, –±—Ä–∞—Ç, –≤—ã—Ä—É—á–∏! –ú–Ω–µ –Ω—É–∂–µ–Ω —Å—Ç–∞—Ä—ã–π –∫–ª—é—á –∏–∑ –ø–æ–¥—ä–µ–∑–¥–∞. –ü—Ä–∏–Ω–µ—Å—ë—à—å ‚Äî –ø–æ–ª—É—á–∏—à—å –Ω–∏—à—Ç—è–∫!");
                this.quests['–∫–ª—é—á'] = '–Ω–∞–π—Ç–∏';
            },

            danyaAction(name) {
                addOutput(`–í—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç–µ —Å –î–∞–Ω–µ–π: ${name}`);
            },

            goTo(location) {
                this.currentLocation = location;
                addOutput(`–í—ã –ø–æ—à–ª–∏ –≤ ${location}.`);
                hideLocationPrompt();
            },

            useItem(item) {
                if (!this.inventory.includes(item)) {
                    addOutput(`–£ –≤–∞—Å –Ω–µ—Ç ${item}.`);
                    return;
                }
                addOutput(`–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ: ${item}`);
                const index = this.inventory.indexOf(item);
                if (index > -1) this.inventory.splice(index, 1);
                hideItemPrompt();
            },

            searchArea() {
                document.getElementById("search-mini-game").style.display = "flex";
            },

            finishSearch(success) {
                document.getElementById("search-mini-game").style.display = "none";
                if (success) {
                    const found = '–º–æ–Ω–µ—Ç–∫–∞';
                    this.inventory.push(found);
                    addOutput(`–í—ã –Ω–∞—à–ª–∏: ${found}`);
                } else {
                    addOutput("–í—ã –Ω–µ –Ω–∞—à–ª–∏ –Ω–∏—á–µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ.");
                }
            }
        };

        function addOutput(text) {
            const output = document.getElementById('output');
            output.innerText += `\n${text}`;
            output.scrollTop = output.scrollHeight;
        }

        function showLocationPrompt() {
            const options = game.locations[game.currentLocation] || [];
            const container = document.getElementById("location-options");
            container.innerHTML = '';
            options.forEach(loc => {
                const btn = document.createElement("button");
                btn.innerText = loc;
                btn.onclick = () => game.goTo(loc);
                container.appendChild(btn);
            });
            document.getElementById("location-prompt").style.display = "flex";
        }

        function hideLocationPrompt() {
            document.getElementById("location-prompt").style.display = "none";
        }

        function showUseItemPrompt() {
            const usableItems = game.inventory;
            const container = document.getElementById("item-options");
            container.innerHTML = '';
            usableItems.forEach(item => {
                const btn = document.createElement("button");
                btn.innerText = item;
                btn.onclick = () => game.useItem(item);
                container.appendChild(btn);
            });
            document.getElementById("item-prompt").style.display = "flex";
        }

        function hideItemPrompt() {
            document.getElementById("item-prompt").style.display = "none";
        }
    </script>
</body>
</html>
